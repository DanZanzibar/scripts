

activate-venv () {
    source "$HOME/sync/.venvs/$1/bin/activate"
}

_activate-venv-completions () {
    local curr_word="${COMP_WORDS[COMP_CWORD]}"
    local venvs=''
    for file in ~/sync/.venvs/*; do
	venvs+="${file##*/} "
    done
    COMPREPLY=( $(compgen -W "$venvs" -- "$curr_word") )
}

complete -F _activate-venv-completions activate-venv
